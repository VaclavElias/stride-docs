<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class EffectInstance | Stride API </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class EffectInstance | Stride API ">
      
      <meta name="description" content="Represents an instance of an Effect, including its values and Graphics Resources to bind (such as s, s, or s).">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/stride3d/stride-docs/new/master/apiSpec/new?filename=Stride_Rendering_EffectInstance.md&amp;value=---%0Auid%3A%20Stride.Rendering.EffectInstance%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="https://www.stride3d.net/">
            <img id="logo" class="svg" src="../media/stride-logo-red.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Stride.Rendering.EffectInstance">



  <h1 id="Stride_Rendering_EffectInstance" data-uid="Stride.Rendering.EffectInstance" class="text-break">
Class EffectInstance  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L21"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Stride.html">Stride</a>.<a class="xref" href="Stride.Rendering.html">Rendering</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Stride.Graphics.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Represents an instance of an Effect, including its values and Graphics Resources to bind
(such as <a class="xref" href="Stride.Graphics.Texture.html">Texture</a>s, <a class="xref" href="Stride.Graphics.Buffer.html">Buffer</a>s, or <a class="xref" href="Stride.Graphics.SamplerState.html">SamplerState</a>s).</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class EffectInstance : DisposeBase, IDisposable, IReferencable</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><span class="xref">object</span></div>
      <div><a class="xref" href="Stride.Core.DisposeBase.html">DisposeBase</a></div>
      <div><span class="xref">EffectInstance</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
      <div><a class="xref" href="Stride.Core.IReferencable.html">IReferencable</a></div>
    </dd>
  </dl>

  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="Stride.Rendering.DynamicEffectInstance.html">DynamicEffectInstance</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="Stride.Core.DisposeBase.html#Stride_Core_DisposeBase_IsDisposed">DisposeBase.IsDisposed</a>
    </div>
    <div>
      <a class="xref" href="Stride.Core.DisposeBase.html#Stride_Core_DisposeBase_Dispose">DisposeBase.Dispose()</a>
    </div>
    <div>
      <a class="xref" href="Stride.Core.DisposeBase.html#Stride_Core_DisposeBase_OnAddReference">DisposeBase.OnAddReference()</a>
    </div>
    <div>
      <a class="xref" href="Stride.Core.DisposeBase.html#Stride_Core_DisposeBase_OnReleaseReference">DisposeBase.OnReleaseReference()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="Stride.Core.ComponentBaseExtensions.html#Stride_Core_ComponentBaseExtensions_DisposeBy__1___0_Stride_Core_ICollectorHolder_">ComponentBaseExtensions.DisposeBy&lt;T&gt;(T, ICollectorHolder)</a>
  </div>
  <div>
      <a class="xref" href="Stride.Core.ComponentBaseExtensions.html#Stride_Core_ComponentBaseExtensions_RemoveDisposeBy__1___0_Stride_Core_ICollectorHolder_">ComponentBaseExtensions.RemoveDisposeBy&lt;T&gt;(T, ICollectorHolder)</a>
  </div>
  <div>
      <a class="xref" href="Stride.Core.UnsafeExtensions.UnsafeUtilities.html#Stride_Core_UnsafeExtensions_UnsafeUtilities_As__1_System_Object_">UnsafeUtilities.As&lt;T&gt;(object?)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Stride_Rendering_EffectInstance__ctor_" data-uid="Stride.Rendering.EffectInstance.#ctor*"></a>

  <h3 id="Stride_Rendering_EffectInstance__ctor_Stride_Graphics_Effect_Stride_Rendering_ParameterCollection_" data-uid="Stride.Rendering.EffectInstance.#ctor(Stride.Graphics.Effect,Stride.Rendering.ParameterCollection)">
  EffectInstance(Effect, ParameterCollection?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L21"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Represents an instance of an Effect, including its values and Graphics Resources to bind
(such as <a class="xref" href="Stride.Graphics.Texture.html">Texture</a>s, <a class="xref" href="Stride.Graphics.Buffer.html">Buffer</a>s, or <a class="xref" href="Stride.Graphics.SamplerState.html">SamplerState</a>s).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public EffectInstance(Effect effect, ParameterCollection? parameters = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>effect</code> <a class="xref" href="Stride.Graphics.Effect.html">Effect</a></dt>
    <dd><p>The Effect that will be used by the Effect instance.</p>
</dd>
    <dt><code>parameters</code> <a class="xref" href="Stride.Rendering.ParameterCollection.html">ParameterCollection</a></dt>
    <dd><p>An optional collection of parameters that can be used to customize the Effect instance.
Specify <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> to use the default parameters.</p>
</dd>
  </dl>












  <h2 class="section" id="fields">Fields
</h2>



  <h3 id="Stride_Rendering_EffectInstance_permutationCounter" data-uid="Stride.Rendering.EffectInstance.permutationCounter">
  permutationCounter
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L28"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected int permutationCounter</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>









  <h2 class="section" id="properties">Properties
</h2>


  <a id="Stride_Rendering_EffectInstance_DescriptorReflection_" data-uid="Stride.Rendering.EffectInstance.DescriptorReflection*"></a>

  <h3 id="Stride_Rendering_EffectInstance_DescriptorReflection" data-uid="Stride.Rendering.EffectInstance.DescriptorReflection">
  DescriptorReflection
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L44"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets a reflection object that describes the Descriptor Sets and their layouts for the Effect
used by this instance.
<br>
This includes the bindings for Graphics Resources such as <a class="xref" href="Stride.Graphics.Texture.html">Texture</a>s, <a class="xref" href="Stride.Graphics.Buffer.html">Buffer</a>s,
and <a class="xref" href="Stride.Graphics.SamplerState.html">SamplerState</a>s.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public EffectDescriptorSetReflection DescriptorReflection { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Stride.Graphics.EffectDescriptorSetReflection.html">EffectDescriptorSetReflection</a></dt>
    <dd></dd>
  </dl>








  <a id="Stride_Rendering_EffectInstance_Effect_" data-uid="Stride.Rendering.EffectInstance.Effect*"></a>

  <h3 id="Stride_Rendering_EffectInstance_Effect" data-uid="Stride.Rendering.EffectInstance.Effect">
  Effect
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L26"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the Effect currently used by this instance.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Effect Effect { get; protected set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Stride.Graphics.Effect.html">Effect</a></dt>
    <dd></dd>
  </dl>








  <a id="Stride_Rendering_EffectInstance_Parameters_" data-uid="Stride.Rendering.EffectInstance.Parameters*"></a>

  <h3 id="Stride_Rendering_EffectInstance_Parameters" data-uid="Stride.Rendering.EffectInstance.Parameters">
  Parameters
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L58"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the collection of parameters used by this Effect instance.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ParameterCollection Parameters { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Stride.Rendering.ParameterCollection.html">ParameterCollection</a></dt>
    <dd></dd>
  </dl>








  <a id="Stride_Rendering_EffectInstance_RootSignature_" data-uid="Stride.Rendering.EffectInstance.RootSignature*"></a>

  <h3 id="Stride_Rendering_EffectInstance_RootSignature" data-uid="Stride.Rendering.EffectInstance.RootSignature">
  RootSignature
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L53"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the Root Signature associated with the current graphics pipeline.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public RootSignature RootSignature { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Stride.Graphics.RootSignature.html">RootSignature</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Stride_Rendering_EffectInstance_RootSignature_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>A <strong>Root Signature</strong> is used to specify how Graphics Resources, such as Textures and Buffers,
are bound to the graphics pipeline (i.e. how <a class="xref" href="Stride.Graphics.DescriptorSet.html">DescriptorSet</a> will be bound together).</p>
</div>




  <h2 class="section" id="methods">Methods
</h2>


  <a id="Stride_Rendering_EffectInstance_Apply_" data-uid="Stride.Rendering.EffectInstance.Apply*"></a>

  <h3 id="Stride_Rendering_EffectInstance_Apply_Stride_Graphics_GraphicsContext_" data-uid="Stride.Rendering.EffectInstance.Apply(Stride.Graphics.GraphicsContext)">
  Apply(GraphicsContext)
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L152"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Applies the current parameters set for this Effect instance to the
provided graphics context, updating bound Graphics Resources, uploading
Constant Buffers, etc.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Apply(GraphicsContext graphicsContext)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>graphicsContext</code> <a class="xref" href="Stride.Graphics.GraphicsContext.html">GraphicsContext</a></dt>
    <dd><p>The graphics context to which the Effect parameters will be applied.
This context must be valid and initialized before calling this method.</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception">ArgumentNullException</a></dt>
    <dd><p><code class="paramref">graphicsContext</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a>.</p>
</dd>
  </dl>



  <a id="Stride_Rendering_EffectInstance_ChooseEffect_" data-uid="Stride.Rendering.EffectInstance.ChooseEffect*"></a>

  <h3 id="Stride_Rendering_EffectInstance_ChooseEffect" data-uid="Stride.Rendering.EffectInstance.ChooseEffect">
  ChooseEffect()
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L138"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Selects and compiles the appropriate Effect based on the current parameters.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual void ChooseEffect()</code></pre>
  </div>









  <h4 class="section" id="Stride_Rendering_EffectInstance_ChooseEffect_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>When overridden in a derived class, this method should implement the logic to
select and compile the Effect based on the current set of parameters, for example,
by using the permutation parameters set in <a class="xref" href="Stride.Rendering.EffectInstance.html#Stride_Rendering_EffectInstance_Parameters">Parameters</a> to compile a
specific version of the Effect.</p>
</div>




  <a id="Stride_Rendering_EffectInstance_Destroy_" data-uid="Stride.Rendering.EffectInstance.Destroy*"></a>

  <h3 id="Stride_Rendering_EffectInstance_Destroy" data-uid="Stride.Rendering.EffectInstance.Destroy">
  Destroy()
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L62"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Disposes the object's resources.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void Destroy()</code></pre>
  </div>









  <h4 class="section" id="Stride_Rendering_EffectInstance_Destroy_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
  Override in a derived class to implement disposal logic specific to it.
</p>
<p>
  This method is automatically called whenever a call to <a class="xref" href="Stride.Core.DisposeBase.html#Stride_Core_DisposeBase_Dispose">Dispose()</a> (or to <a class="xref" href="Stride.Core.IReferencable.html#Stride_Core_IReferencable_Release">Release()</a>)
  has decreased the internal reference count to zero, meaning no other objects (hopefully) hold a reference to this one
  and its resources can be safely released.
</p>
</div>




  <a id="Stride_Rendering_EffectInstance_UpdateEffect_" data-uid="Stride.Rendering.EffectInstance.UpdateEffect*"></a>

  <h3 id="Stride_Rendering_EffectInstance_UpdateEffect_Stride_Graphics_GraphicsDevice_" data-uid="Stride.Rendering.EffectInstance.UpdateEffect(Stride.Graphics.GraphicsDevice)">
  UpdateEffect(GraphicsDevice)
  <a class="header-action link-secondary" title="View source" href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L86"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Updates the Effect associated with this instance.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool UpdateEffect(GraphicsDevice graphicsDevice)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>graphicsDevice</code> <a class="xref" href="Stride.Graphics.GraphicsDevice.html">GraphicsDevice</a></dt>
    <dd><p>The Graphics Device to which the Effect is applied.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p><a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a> if the Effect was updated; otherwise, <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>.</p>
</dd>
  </dl>







  <h4 class="section" id="Stride_Rendering_EffectInstance_UpdateEffect_Stride_Graphics_GraphicsDevice__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This method checks if the <a class="xref" href="Stride.Rendering.EffectInstance.html#Stride_Rendering_EffectInstance_Effect">Effect</a> needs to be updated based on changes in the
permutation parameters or the source of the Effect.
If an update is necessary, it reinitializes the Effect, updates the reflection information,
and prepares the necessary Graphics Resources and data.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/stride3d/stride/blob/feat-community-resources-updates/sources/engine/Stride.Graphics/Rendering/EffectInstance.cs/#L21" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <div class="d-flex flex-column flex-sm-row justify-content-between pt-1 text-center small"><p>Supported by the <a href="https://dotnetfoundation.org/" target="_blank" rel="noopener">.NET Foundation</a></p><p>Made with <a href="https://dotnet.github.io/docfx">docfx</a></p><p>Stride Docs Website v.2.0.0.3</p><p>&copy; .NET Foundation and Contributors</p></div>
        </div>
      </div>
    </footer>
  </body>
</html>
